function processEscape() { "#byProd" == returnToIT ? ($("#mainNavLvl").css("left", "-9999px"), $(returnToIT).focus()) : ".brandNav ul" == hideIT ? ($(hideIT).css("left", "-9999px"), $(returnToIT).focus()) : ("" != returnToIT && ($(returnToIT).focus(), $(".topLvl").removeClass("open")), "" != hideIT && $(hideIT).hide()), "#primary ul .prodNav ul li.topLvl .listContainer" != hideIT || $("body").is("#home") && "720px" != $("section").css("width") ? (hideIT = "", returnToIT = "") : (returnToIT = "#byProd", hideIT = "#mainNavLvl") } function topMenuCloseSubMenu() { $("#primary ul li ul").hide() } function createCookie(t, e, a) { if (a) { var o = new Date; o.setTime(o.getTime() + 24 * a * 60 * 60 * 1e3); var n = "; expires=" + o.toGMTString() } else var n = ""; document.cookie = t + "=" + e + n + "; path=/" } function readCookie(t) { for (var e = t + "=", a = document.cookie.split(";"), o = 0; o < a.length; o++) { for (var n = a[o]; " " == n.charAt(0) ;) n = n.substring(1, n.length); if (0 == n.indexOf(e)) return n.substring(e.length, n.length) } return null } function eraseCookie(t) { createCookie(t, "", -1) } function setCompareFeatures() { var t = readCookie("compare"); "undefined" != typeof t && null != t && "" != t ? currentCompare = t : t = currentCompare; var e = ""; if ($("#compare-remove").click(function (t) { return currentCompare = "", t.preventDefault(), eraseCookie("compare"), $(".inline-compare-text").css("display", "inline"), $(".inline-compare-button").css("display", "none"), $(".checkbox").removeAttr("checked"), $(".inline-compare-text").html("Select 2 to compare"), set_compare_section(""), !1 }), $(".compare").click(function (t) { t.preventDefault(), $("#compareSubmit").submit() }), $("#compare-over-alert a").click(function (t) { t.preventDefault(), $("#compare-over-alert").hide() }), "undefined" != typeof t && null != t && "" != t) { var o = new Array; o = t.split("|"), set_compare_section(""), o.length > 1 ? $(".inline-compare-text").html("Add to compare") : $(".inline-compare-text").html("Select 2 to compare"); for (a in o) e = "", e = o[a].split(":")[0], isNaN(e) || ($("#skucheck" + e).attr("checked", "checked"), $("#button_skucheck" + e).css("display", "inline"), $("#text_skucheck" + e).css("display", "none")) } else $(".inline-compare-text").html("Select 2 to compare"); try { $("div.featuredList").carousel({ dispItems: 1 }) } catch (n) { } try { $("div.featuredItems").css("display", "block") } catch (n) { } } function set_compare_section(t) { var e = readCookie("compare"); "undefined" != typeof e && null != e && "" != e ? currentCompare = e : e = currentCompare; var a = !1; if (e && -1 != e.search("c26ba48acbfa28c59f170514c27aea07")) { e = e.replace(/%7C/, "|"); var o = new Array; o = e.split("|"); for (var n = 1; 5 > n; n++) if (o.length > n) { a = !0, r = Right("000000" + o[n].split(":")[0], 6), l = Right("0000000" + o[n].split(":")[1], 7); var i = '<img src="http://c773974.r74.cf2.rackcdn.com/' + l + "_" + r + '.jpg">'; i = i + '<div><a href="#" onclick="removeCompare(\'' + o[n].split(":")[0] + ":" + o[n].split(":")[1] + '\');return false;">X<span class="hide-text"> Remove Compare Item</span></a></div>', $("#compare-item" + n).html(i) } else $("#compare-item" + n).html(""); if ("" != t) { var r = Right("000000" + t.split(":")[0], 6), l = Right("0000000" + t.split(":")[1], 7); $(".compare-section").show(); var c = '<img id="compareAnimationImg" src="http://c773974.r74.cf2.rackcdn.com/' + l + "_" + Right("0000000" + r, 6) + '.jpg">', s = $("#text_skucheck" + t.split(":")[0]).parent().parent().parent().parent().position(), d = $("#compare-item" + (o.length - 1)).position(); $("#compareAnimation").css("top", s.top + 30 + "px"), $("#compareAnimation").css("left", s.left + 20 + "px"), $("#compareAnimation").css("width", "120px"), $("#compareAnimation").css("height", "120px"), $("#compareAnimation").html(c), $("#compareAnimation").show(), $("#compare-item" + (o.length - 1) + " img").hide(), $("#compareAnimation").animate({ width: "36px", height: "36px", top: "-44px", left: d.left + "px" }, 1e3), setTimeout(function () { $(".compare-section #compare-item" + (o.length - 1) + " img").show(), $("#compareAnimation").hide() }, 1e3), $("#Aria-Announcements").html('<div aria-live="polite" role="alert">Compare item added or changed.  Tab then press enter to load compare page in new window.</div>'), window.setTimeout(function () { $("#Aria-Announcements").html("") }, 5e3) } } else $(".compare-item").html(""), $("#productGridAnnouncement").focus(); a ? $(".compare-section").show() : ($(".inline-compare-text").css("display", "inline"), $(".inline-compare-button").css("display", "none"), $(".checkbox").removeAttr("checked"), $(".compare-section").hide()) } function removeCompare(t) { var e = readCookie("compare"); "undefined" != typeof e && null != e && "" != e ? currentCompare = e : e = currentCompare; var a = "c26ba48acbfa28c59f170514c27aea07"; if (e && -1 != e.search("c26ba48acbfa28c59f170514c27aea07")) { e = e.replace(/%7C/, "|"); var o = new Array; o = e.split("|"); for (var n = 1; n < o.length; n++) o[n] != t && (a = a + "|" + o[n]); var i = parseInt(t.split(":")[0]); $("#button_skucheck" + i).css("display", "none"), $("#text_skucheck" + i).css("display", "inline"), $("#skucheck" + i).removeAttr("checked"), o.length > 2 ? $(".inline-compare-text").html("Add to compare") : $(".inline-compare-text").html("Select 2 to compare"), createCookie("compare", a, 7), set_compare_section("") } } function set_compare_items(t, e) { $("#compare-over-alert").hide(); var a = readCookie("compare"); "undefined" != typeof a && null != a && "" != a ? currentCompare = a : a = currentCompare; var o = new Array; if (a && -1 != a.search("c26ba48acbfa28c59f170514c27aea07") && (a = a.replace(/%7C/, "|"), o = a.split("|"), o.length > 4 && t.elements[0].checked)) { var n = $("#text_skucheck" + e.split(":")[0]).parent().parent().parent().position(); return $("#compare-over-alert").css("top", n.top + 30 + "px"), $("#compare-over-alert").css("left", n.left + 30 + "px"), $("#compare-over-alert").show(), void (t.elements[0].checked = !1) } var i = e.split(":")[0]; parseInt(e.split(":")[1]); if (a) if (a = a.replace(/%7C/, "|"), -1 != a.search("c26ba48acbfa28c59f170514c27aea07")) if (t.elements[0].checked) -1 == a.search(e) && createCookie("compare", a + "|" + e, 7), $("#button_skucheck" + i).css("display", "inline"), $("#text_skucheck" + i).css("display", "none"), $(".inline-compare-text").html("Add to compare"); else { $("#button_skucheck" + i).css("display", "none"), $("#text_skucheck" + i).css("display", "inline"), new_cookie = a.replace("|" + e, ""), createCookie("compare", new_cookie, 7); var o = new Array; e = "", o = new_cookie.split("|"), o.length < 2 && $(".inline-compare-text").html("Select 2 to compare") } else createCookie("compare", "c26ba48acbfa28c59f170514c27aea07|" + e, 7), $("#button_skucheck" + i).css("display", "inline"), $("#text_skucheck" + i).css("display", "none"), $(".inline-compare-text").html("Add to compare"); else createCookie("compare", "c26ba48acbfa28c59f170514c27aea07|" + e, 7), $("#button_skucheck" + i).css("display", "inline"), $("#text_skucheck" + i).css("display", "none"), $(".inline-compare-text").html("Add to compare"); set_compare_section(e) } function SelectServicePlan(t, e) { parseFloat($('input[name="servicePlanValue"]').val()), parseFloat($('input[name="servicePlanId"]').val()); $("#summaryserviceplans .summaryserviceplans").hide(), $("#summaryserviceplans #plan" + t).show(), serviceplantotal = e, serviceplantotal > 0 ? ($("#interstitialSummary #serviceplanprice").html('<a href="#" onclick="SummaryToggle(\'summaryserviceplans\'); return false;">+ Protection Plan:</a> $' + e), $("#interstitialSummary #serviceplanprice").show()) : $("#interstitialSummary #serviceplanprice").hide(), $(".spHolder").each(function (a) { var o = $(this).val(), n = 0; if (o > 0) { n = $('input[name="spPrice_' + o + '"]').val(); var i = "", r = parseFloat(parseFloat(n) - parseFloat(e)).toFixed(2); i = r >= 0 ? "(+$" + r + ")" : "(-$" + Math.abs(r).toFixed(2) + ")", $("#servicePlanCalculatedPrice_" + o).html(i), e > 0 ? ($("#servicePlanCalculatedPrice_" + o).show(), $("#servicePlanPrice_" + o).hide()) : ($("#servicePlanCalculatedPrice_" + o).hide(), $("#servicePlanPrice_" + o).show()), o == t && ($("#servicePlanCalculatedPrice_" + o).hide(), $("#servicePlanPrice_" + o).hide()) } }), $('input[name="servicePlanValue"]').val(e), $('input[name="servicePlanId"]').val(t), setsummarytotal() } function popBargainBinWindow(t) { newwindow = window.open(t, "name", "height=300,width=300,left=100,top=100,resizable=yes,scrollbars=yes"), window.focus && newwindow.focus() } function printFancybox() { $("#fancybox-frame").get(0).contentWindow.print() } function SelectProduct(t, e, a) { a ? (addonstotal += e, addonstotal = Math.round(100 * addonstotal) / 100, $("#interstitialSummary #addonsprice").html('<a href="#" onclick="SummaryToggle(\'summarypricing\'); return false;">+ Add Ons:</a> $' + addonstotal), $("#interstitialSummary #addonsprice").show(), $("#summarypricing #product" + t).show()) : (addonstotal -= e, addonstotal = Math.round(100 * addonstotal) / 100, $("#summarypricing #product" + t).hide(), addonstotal > 0 ? ($("#interstitialSummary #addonsprice").html('<a href="#" onclick="SummaryToggle(\'summarypricing\'); return false;">+ Add Ons:</a> $' + addonstotal), $("#interstitialSummary #addonsprice").show()) : $("#interstitialSummary #addonsprice").hide()), addonstotal = addonstotal.toFixed(2), setsummarytotal() } function SelectProductRadio(t, e, a, o) { var n = 0, i = 0; parseFloat($("#radioGroup_" + o + "_CP").val()) > 0 && (n = parseFloat($("#radioGroup_" + o + "_CP").val())), parseFloat($("#radioGroup_" + o + "_CPID").val()) > 0 && (i = parseFloat($("#radioGroup_" + o + "_CPID").val())), addonstotal -= n, $("#summarypricing #product" + i).hide(), addonstotal += e, addonstotal = addonstotal.toFixed(2), $("#interstitialSummary #addonsprice").html('<a href="#" onclick="SummaryToggle(\'summarypricing\'); return false;">+ Add Ons:</a> $' + addonstotal), $("#interstitialSummary #addonsprice").show(), $("#summarypricing #product" + t).show(), $("#radioGroup_" + o + "_CPID").val(t), $("#radioGroup_" + o + "_CP").val(e), $('input[name="productIDs_R' + o + '"]').each(function (a) { var o = $(this).val(), n = 0; if (o > 0) { n = $('input[name="productPrice_' + o + '"]').val(); var i = "", r = (n - e).toFixed(2); i = r >= 0 ? "(+$" + r + ")" : "(-$" + Math.abs(r).toFixed(2) + ")", $("#CalculatedPrice_" + o).html(i), e > 0 ? ($("#CalculatedPrice_" + o).show(), $("#Price_" + o).hide()) : ($("#CalculatedPrice_" + o).hide(), $("#Price_" + o).show()), o == t && ($("#CalculatedPrice_" + o).hide(), $("#Price_" + o).hide()) } }), e > 0 ? $("#noItem_R" + o).show() : $("#noItem_R" + o).hide(), setsummarytotal() } function SummaryToggle(t) { "summarypricing" == t && ($("#summaryserviceplans").hide(), $("#summarypricing").is(":visible") ? $("#summarypricing").hide() : $("#summarypricing").show()), "summaryserviceplans" == t && ($("#summarypricing").hide(), $("#summaryserviceplans").is(":visible") ? $("#summaryserviceplans").hide() : $("#summaryserviceplans").show()), $(".closeItem").show() } function SummaryClose() { $("#summaryserviceplans").hide(), $("#summarypricing").hide() } function setsummarytotal() { var t = $("#interstitialSummary .price strong").html(); t.indexOf("$") >= 0 && (itemprice = parseFloat(t.replace("$", "").replace(",", "")).toFixed(2)); var e = 0; addonstotal = 0, $(".productIDsRadio").each(function () { $(this).is(":checked") && (addonstotal += parseFloat($('input[name="productPrice_' + $(this).val() + '"]').val())) }), $("input[name=productIDs]:checked").each(function () { addonstotal += parseFloat($("#ProductPrice_" + $(this).val()).val().replace("$", "").replace(",", "")) }), addonstotal = addonstotal.toFixed(2), $("#interstitialSummary #addonsprice").html('<a href="#" onclick="SummaryToggle(\'summarypricing\'); return false;">+ Add Ons:</a> $' + addonstotal), addonstotal > 0 ? $("#interstitialSummary #addonsprice").show() : $("#interstitialSummary #addonsprice").hide(), e = parseFloat(parseFloat(itemprice) + parseFloat(addonstotal) + parseFloat(serviceplantotal)).toFixed(2), e > parseFloat(itemprice) && parseFloat(itemprice) > 0 ? ($("#summaryprice").html("Total With Add Ons: $" + e), $("#summaryprice").show()) : $("#summaryprice").hide(), parseFloat(addonstotal) <= 0 && $("#addonsprice").hide() } function Right(t, e) { if (0 >= e) return ""; if (e > String(t).length) return t; var a = String(t).length; return String(t).substring(a, a - e) } function setGridView() { $(".grView").click(function () { $(".grView").addClass("on"), $(".lsView").removeClass("on"), $("#productGrid").removeClass("col1"), $("#productGrid").addClass("col3"), eraseCookie("viewtype"), createCookie("viewtype", "grid", 1) }), $(".lsView").click(function () { $(".lsView").addClass("on"), $(".grView").removeClass("on"), $("#productGrid").removeClass("col3"), $("#productGrid").addClass("col1"), eraseCookie("viewtype"), createCookie("viewtype", "list", 1) }); try { var t = readCookie("viewtype"); "list" == t ? ($("#productGrid").removeClass("col3"), $("#productGrid").addClass("col1"), $(".lsView").addClass("on"), $(".grView").removeClass("on")) : ($("#productGrid").removeClass("col1"), $("#productGrid").addClass("col3"), $(".lsView").removeClass("on"), $(".grView").addClass("on")) } catch (e) { } } function productClick(t, e) { if (null != $(t).data("id") && !productclicked) { productclicked = !0; var a = "Search Results"; null != $(t).data("list") && (a = $(t).data("list")), ga("mc.ec:addProduct", { id: $(t).data("id"), name: $(t).data("name"), category: $(t).data("category"), brand: $(t).data("brand"), price: $(t).data("price"), position: $(t).data("position") }), ga("mc.ec:setAction", "click", { list: a }), ga("mc.send", "event", "eCommerce", "click", a, { hitCallback: function () { e.ctrlKey || (null != $(t).attr("href") ? document.location = $(t).attr("href") : null != $(t).data("href") && (document.location = $(t).data("href"))) } }) } } function addOnClick(t, e) { null == $(t).data("id") || productclicked || (productclicked = !0, dataLayer.push({ event: "productClick", ecommerce: { click: { actionField: { list: $(t).data("list") }, products: [{ name: $(t).data("name"), id: $(t).data("id"), price: $(t).data("price"), brand: $(t).data("brand"), category: $(t).data("category"), position: $(t).data("position") }] } }, eventCallback: function () { e.ctrlKey || (null != $(t).attr("href") ? document.location = $(t).attr("href") : null != $(t).data("href") && (document.location = $(t).data("href"))) } })) } function promoClick(t, e) { ga("mc.ec:addPromo", [{ id: $(t).data("id"), name: $(t).data("name"), creative: $(t).data("creative"), position: $(t).data("position") }]), ga("mc.ec:setAction", "promo_click"), ga("mc.send", "event", "Internal Promotions", "click", $(t).data("name"), { hitCallback: function () { e.ctrlKey || (document.location = $(t).attr("href")) } }) } function addToCartClick(t, e, a) { if (doPush = !1, null != t && null != $(".ProductLink_" + t).data("id")) { if (doPush = !0, ga("mc.ec:addProduct", { id: $(".ProductLink_" + t).data("id"), name: $(".ProductLink_" + t).data("name"), category: $(".ProductLink_" + t).data("category"), brand: $(".ProductLink_" + t).data("brand"), price: $(".ProductLink_" + t).data("price"), quantity: 1 }), "" != a) { var o = a.split(">")[0]; "Product Page" == o ? ga("mc.ec:setAction", "add") : ga("mc.ec:setAction", "add", { list: a.split(",", 1)[0] }) } else ga("mc.ec:setAction", "add"); ga("mc.send", "event", "eCommerce", "Add To Cart Click", "add to cart") } var n = 1; if (null != e && "" != e) { for (SplitIds = e.split(","), n += SplitIds.length, cnt = 0; cnt < SplitIds.length; ++cnt) null != $(".ProductLink_" + SplitIds[cnt]).data("id") && (doPush = !0, ga("mc.ec:addProduct", { id: $(".ProductLink_" + SplitIds[cnt]).data("id"), name: $(".ProductLink_" + SplitIds[cnt]).data("name"), category: $(".ProductLink_" + SplitIds[cnt]).data("category"), brand: $(".ProductLink_" + SplitIds[cnt]).data("brand"), price: $(".ProductLink_" + SplitIds[cnt]).data("price"), position: $(".ProductLink_" + SplitIds[cnt]).data("position"), quantity: 1 })); doPush && n > 1 && ("Interstitial Add Ons" == a.split(",", 1)[0] ? ga("mc.ec:setAction", "add", { list: "Interstitial Add Ons" }) : ga("mc.ec:setAction", "add", { list: "Add Ons" }), ga("mc.send", "event", "eCommerce", "Add To Cart Click w/addons", "add to cart")) } } function bindMore() { $(".guided").each(function (t) { var t = 10, e = $(this).find("li").size(); if (e > t) { var a = t - 1; $(this).find("li:gt(" + a + ")").hide(), $(this).append('<li class="more"><a href="#"> + MORE</a></li>'), $(this).append('<li class="less"><a href="#"> - LESS</a></li>'), $(this).find("li.less").hide(), $(this).find("li.more:eq(0)").click(function () { var t = 9; return $(this).parent().find("li:gt(" + t + ")").show(), $(this).parent().find("li.less").show(), $(this).hide(), !1 }), $(this).find("li.less:eq(0)").click(function () { return $(this).parent().find("li:gt(" + a + ")").hide(), $(this).parent().find("li.more").show(), $(this).hide(), !1 }) } }) } var currentCompare = "", timeoutTopMenuSub, itemprice = 0, adVehicleImpressions = [], addOnLayer, sentAdOns = !1, productclicked = !1, hideIT = "", returnToIT = ""; $(document).ready(function () { function t() { e.length >= 2 ? ($("#search-query").addClass("loading"), $.ajax({ type: "POST", url: "/assets/ajax/autosuggest.aspx", data: "term=" + e, success: function (t) { t.length >= 6 ? ($("#Aria-Announcements").html('<div aria-live="polite" role="alert">Search suggestion found, press tab twice to discover.</div>'), window.setTimeout(function () { $("#Aria-Announcements").html("") }, 5e3), $(".typeAheadAjax").html("<div class='typeAheadArrow'></div>" + t), $(".typeAheadAjax").show(), returnToIT = "#search-query", hideIT = ".typeAheadAjax", $("#search-query").removeClass("loading"), $("#TA-articles .TA-more").click(function () { $("#TA-articles li").removeClass("TA-hide"), $(this).addClass("TA-hide") }), $("#TA-suggestions .TA-more").click(function () { $("#TA-suggestions li").removeClass("TA-hide"), $(this).addClass("TA-hide") }), $("#TA-categories .TA-more").click(function () { $("#TA-categories li").removeClass("TA-hide"), $(this).addClass("TA-hide") }), $("#TA-brands .TA-more").click(function () { $("#TA-brands li").removeClass("TA-hide"), $(this).addClass("TA-hide") }), $(".TA-Scroll").mCustomScrollbar({ mouseWheel: !0, advanced: { autoScrollOnFocus: !1, updateOnContentResize: !0, updateOnBrowserResize: !1, contentTouchScroll: !0 } }), window.setTimeout(function () { $(".TA-Scroll").mCustomScrollbar("update") }, 1500)) : $("#search-query").removeClass("loading") } })) : $(".typeAheadAjax").hide() } $(document).on("keyup", function (t) { 27 == t.keyCode && processEscape() }), $(document).on("keydown", function (t) { t = t || window.event; var e = $(document.activeElement), a = e.parent().next(), o = e.parent().prev(); 9 == t.keyCode && null != e.attr("id") && "byProd" == e.attr("id") && ($("#byBrand").focus(), t.preventDefault()), 40 == t.keyCode && (null != e.attr("id") && "byProd" == e.attr("id") && (e.trigger({ type: "click" }), t.preventDefault()), null != e.attr("class") && "topLink" == e.attr("class") && null != a.find("a").first() && "topLink" == a.find("a").first().attr("class") && (a.find("a").first().focus(), t.preventDefault()), null != e.attr("class") && e.attr("class").indexOf("listContainer ") >= 0 && (e.find(".tertiary .tertiaryLvl h4 .tertiaryLink").first().focus(), t.preventDefault()), "tertiaryLink" == e.attr("class") && (e.parent().parent().find(".nextLvl li a").first().focus(), t.preventDefault()), "plink" == e.attr("class") && (e.parent().index() != e.parent().parent().find(".plinkLI").last().index() ? e.parent().next().find("a").first().focus() : e.parent().parent().parent().next().find("h4 a").first().focus(), t.preventDefault()), null != e.attr("id") && "byBrand" == e.attr("id") && (e.trigger({ type: "click" }), t.preventDefault()), null != e.parent().attr("class") && e.parent().attr("class").indexOf("brandLink") >= 0 && (e.parent().next().find("a").first().focus(), t.preventDefault())), 38 == t.keyCode && (null != e.attr("class") && "topLink" == e.attr("class") && (null != o.attr("class") ? o.find("a").first().focus() : processEscape(), t.preventDefault()), "plink" == e.attr("class") && (0 != e.parent().index() ? e.parent().prev().find("a").first().focus() : e.parent().parent().parent().find("h4 a").first().focus(), t.preventDefault()), "tertiaryLink" == e.attr("class") && (null != e.parent().parent().prev() ? e.parent().parent().prev().find(".nextLvl .plinkLI").last().find("a").first().focus() : processEscape(), t.preventDefault()), null != e.parent().attr("class") && e.parent().attr("class").indexOf("brandLink") >= 0 && (null != e.parent().prev().attr("class") ? e.parent().prev().find("a").first().focus() : processEscape(), t.preventDefault())), 39 == t.keyCode && (null != e.attr("class") && "topLink" == e.attr("class") && (e.trigger({ type: "click" }), t.preventDefault()), null != e.attr("class") && e.attr("class").indexOf("listContainer ") >= 0 && (e.find(".tertiary .tertiaryLvl h4 .tertiaryLink").first().focus(), t.preventDefault()), null != e.attr("class") && "tertiaryLink" == e.attr("class") && (e.parent().parent().next().find("h4 .tertiaryLink").first().focus(), t.preventDefault()), "plink" == e.attr("class") && (e.parent().parent().parent().next().find("h4 a").first().focus(), t.preventDefault())), 37 == t.keyCode && (null != e.attr("class") && e.attr("class").indexOf("listContainer ") >= 0 && (processEscape(), t.preventDefault()), null != e.attr("class") && "tertiaryLink" == e.attr("class") && (null != e.parent().parent().prev().find("h4 .tertiaryLink").first() ? (e.parent().parent().prev().find("h4 .tertiaryLink").first().focus(), t.preventDefault()) : (e.parent().parent().parent().parent().focus(), t.preventDefault())), "plink" == e.attr("class") && (e.parent().parent().parent().prev().find("h4 a").first().focus(), t.preventDefault())), e = $(document.activeElement) }); var e, a, o = (1 == jQuery.browser.mobile, !0); $(".products .image").click(function (t) { productClick(this, t) }), $(".avProductClick").click(function (t) { productClick(this, t) }), $(".addOnProductClick").click(function (t) { addOnClick(this, t) }), $(".pDescription h2 a").click(function (t) { productClick(this, t) }), $(".SearchBannerProduct").click(function (t) { productClick(this, t) }), $(".RightBannerProduct").click(function (t) { productClick(this, t) }), $(".featureProduct").click(function (t) { productClick(this, t) }), $(".SearchTower").click(function (t) { promoClick(this, t) }), $(".SearchBanner").click(function (t) { promoClick(this, t) }), $("#tabInterstitial").click(function (t) { if ("undefined" != typeof addOnLayer && !sentAdOns && "undefined" != typeof ga) { for (cnt = 0; cnt < addOnLayer.length; ++cnt) ga("mc.ec:addImpression", addOnLayer[cnt]); sentAdOns = !0, ga("mc.ec:setAction", "detail"), ga("mc.send", "event", "eCommerce", "Add Ons") } }), $(".typeAheadAjax").hover(function () { o = !1 }, function () { o = !0 }), $(".typeAheadAjax").on("touchstart", function () { o = !1 }), $(".typeAheadAjax").on("touchmove", function () { o = !1 }), $(".typeAheadAjax").on("touchend", function () { window.setTimeout(function () { o = !0 }, 1e3) }), $(".typeAheadAjax").on("touchleave", function () { window.setTimeout(function () { o = !0 }, 1e3) }), $("#search-query").keyup(function () { window.clearTimeout(a), $(".typeAheadAjax").hide(), e = this.value, $("#search-query").removeClass("loading"), a = window.setTimeout(function () { t() }, 50) }), $(document).mousedown(function () { o && (window.clearTimeout(a), $(".typeAheadAjax").hide(), $("#search-query").removeClass("loading")) }), $(document).on("touchstart", function () { o && window.setTimeout(function () { window.clearTimeout(a), $(".typeAheadAjax").hide(), $("#search-query").removeClass("loading") }, 1e3) }), setCompareFeatures(), setGridView(), bindMore(); try { $("#product.DesktopFramework .tabs").productTabs({ speed: 200 }), null != location.hash && location.hash.indexOf("tab") >= 0 && ($("#product.DesktopFramework .accTab a").removeClass("current"), $("#product.DesktopFramework " + location.hash).addClass("current"), $("#product.DesktopFramework #product-details article").css("display", "none"), $(location.hash.replace("tab", "tab-").toLowerCase()).css("display", "block")) } catch (n) { } try { $("#quickview-content .tabs").productTabs({ speed: 200 }) } catch (n) { } try { $("#product.MobileFramework .tabs").accordion({ header: ".tabLink", active: !1, collapsible: !0, heightStyle: "content", change: function (t, e) { $("#product.MobileFramework .tabs").show()[0].scrollIntoView(!0) } }) } catch (n) { } try { $(".DesktopFramework.techcenter .tabs").productTabs({ speed: 200 }) } catch (n) { } try { $(".MobileFramework.techcenter  .tabs").accordion({ header: ".tabLink", active: !1, collapsible: !0, heightStyle: "content", change: function (t, e) { $(".techcenter .tabs").show()[0].scrollIntoView(!0) } }) } catch (n) { } try { $("#careproduct .tabs").organicTabs({ speed: 200 }) } catch (n) { } $("article.tabs section div").hide(), $("article.tabs section:first article").show(), $("article.tabs section:first").addClass("active"), $("#intersticialTabs #isserviceplans").click(function () { activateServicePlans() }), $("#intersticialTabs #zone1tab").click(function () { activateZone1() }), $("#intersticialTabs #zone2tab").click(function () { activateZone2() }), $("#intersticialContent input").each(function () { $(this).attr("checked", !1) }), $("#intersticialBtn").click(function () { $(".crtfrm").first().submit() }), $("#topserviceplan input").attr("checked", !1), $("#serviceplanfrm input").attr("checked", !1), $("#topserviceplan input[name='topserviceplan']").click(function () { $("#serviceplanfrm input[name='serviceplan'][value='" + this.value + "']").attr("checked", "checked") }), $("#moreprotectionplans").click(function () { $("#topserviceplan li").removeClass("hideitem"), $("#moreprotectionplans").addClass("hideitem") }), $("#serviceplanfrm input[name='serviceplan']").click(function () { $("#topserviceplan input").attr("checked", !1), $("#topserviceplan input[name='topserviceplan'][value='" + this.value + "']").attr("checked", "checked") }), $(".crtfrm").submit(function () { var t = "", e = 0, a = (new Array, ""); null != $(".crtfrm input[name='rf']").val() && $(this).find("input[name='rf']").val().indexOf(",") < 0 && (a = $(this).find("input[name='rf']").val()); try { $("#interstitialfrm input[name='productIDs']:checked").each(function () { e > 0 && (t += ","), t += $(this).val(), e++; var o = $(this).val(), n = $("#productRule_" + o).val(); null != n && (a.length > 0 && (a += ","), a += n); var i = $("input[name = 'sku']").val(); null != $("#sku_" + o).val() && window.alert("Pushing: " + $("#source_" + o).val() + " - " + $("#advehicle_" + o).val() + "," + $("#sku_" + o).val() + ",from:" + i + "," + $("#price_" + o).val()) }), $("#interstitialfrm .productIDsRadio:checked").each(function () { e > 0 && (t += ","), t += $(this).val(), e++; var o = $(this).val(), n = $("#productRule_" + o).val(); null != n && (a.length > 0 && (a += ","), a += n); var i = $("input[name = 'sku']").val(); null != $("#sku_" + o).val() && window.alert("Pushing2: " + $("#source_" + o).val() + " - " + $("#advehicle_" + o).val() + "," + $("#sku_" + o).val() + ",from:" + i + "," + $("#price_" + o).val()) }), $("#interstitialfrm1 input[name='productIDs']:checked").each(function () { e > 0 && (t += ","), t += $(this).val(), e++; var o = $(this).val(), n = $("#productRule_" + o).val(); null != n && (a.length > 0 && (a += ","), a += n); var i = $("input[name = 'sku']").val(); null != $("#sku_" + o).val() && window.alert("Pushing3: " + $("#source_" + o).val() + " - " + $("#advehicle_" + o).val() + "," + $("#sku_" + o).val() + ",from:" + i + "," + $("#price_" + o).val()) }), $(this).find("input[name='productIDs']").val(t), $(this).find("input[name='rf']").val(a) } catch (o) { } try { $("#interstitialfrm1 input[name='productIDs']:checked").each(function () { e > 0 && (t += ","), t += $(this).val(), e++ }), $(this).find("input[name='productIDs']").val(t) } catch (o) { } try { var n = $("#serviceplanfrm input[name='serviceplan']:checked").val(); $(this).find("input[name='serviceplan']").val(n) } catch (o) { } addToCartClick($(this).find("input[name='productID']").val(), t, $(this).find("input[name='rf']").val()) }), $(".proceedtocart").click(function () { $(".crtfrm").submit() }), $("#openBox").click(function () { return $("#product-details article").removeClass("active"), $("#product-details article").hide(), $("#tab-clearance").fadeIn("fast"), $("#product-details ul.nav li a").removeClass("current"), $("#tabClearance").addClass("current"), $("#open_box_modal").html("<table>" + $("#tab-clearance table").html() + "</table>"), $("#open_box_modal").is(":visible") ? $("#open_box_modal").hide() : ($("#open_box_modal").show(), $("#open_box_modal").mCustomScrollbar({ mouseWheel: !0, advanced: { autoScrollOnFocus: !1, updateOnContentResize: !0, updateOnBrowserResize: !1, contentTouchScroll: !0 } })), !1 }), $("#afterRebate").click(function () { return $("#product-details article").removeClass("active"), $("#product-details article").hide(), $("#tab-rebate").fadeIn("fast"), $("#product-details ul.nav li a").removeClass("current"), $("#tabRebate").addClass("current"), !1 }); try { $("article.tabs section h1").click(function () { return $("article.tabs section").removeClass("active"), $(this).parent("section").addClass("active"), $("article.tabs section:not('.active') article").hide(), $("section.active article").fadeIn("fast"), !1 }) } catch (i) { } try { $("#product div.summary").slides({ preload: !0, preloadImage: "/assets/images/loading.gif", effect: "fade", crossfade: !0, slideSpeed: 350, fadeSpeed: 300, generateNextPrev: !1, generatePagination: !1 }) } catch (i) { } var r = !0; "ontouchstart" in document.documentElement || (r = !1), r || window.navigator.msPointerEnabled || $("#product div.slides-container a .productImageZoom").hover(function () { $(this).parent().append($("<p class='icons zoom replace'>Zoom</p>")) }, function () { $(this).parent().find("p.zoom").remove() }); try { $("#careproduct div.summary").slides({ preload: !0, preloadImage: "/assets/images/loading.gif", effect: "fade", crossfade: !0, slideSpeed: 350, fadeSpeed: 300, generateNextPrev: !1, generatePagination: !1 }) } catch (i) { } $("#careproduct div.slides-container a").hover(function () { $(this).append($("<p class='icons zoom replace'>Zoom</p>")) }, function () { $(this).find("p.zoom").remove() }), $("#fader").fadeIn("fast"); try { $("#fader").orbit({ animation: "fade", animationSpeed: 1e3, timer: !0, advanceSpeed: 5e3, pauseOnHover: !0, startClockOnMouseOut: !0, startClockOnMouseOutAfter: 100, directionalNav: !1, captions: !1, captionAnimation: "fade", captionAnimationSpeed: 800, bullets: !1, bulletThumbs: !1, bulletThumbLocation: "", afterSlideChange: function () { } }) } catch (i) { } try { $("#product div.slides-container a").fancybox({ opacity: !0, overlayShow: !1, hideOnContentClick: !1, transitionIn: "fade", transitionOut: "fade", scrolling: "no", padding: 20, width: 500, "min-width": 320, height: 500, "min-height": 320, overlayColor: "#F0F0F0", titleShow: !1, type: "iframe", iframe: { scrolling: "no", preload: !0 }, aspectRatio: !0 }) } catch (i) { } try { $("#careproduct div.slides-container a").fancybox({ opacity: !0, overlayShow: !1, hideOnContentClick: !1, transitionIn: "fade", transitionOut: "fade", scrolling: "no", padding: 20, width: 500, "min-width": 320, height: 500, "min-height": 320, overlayColor: "#F0F0F0", titleShow: !1, type: "iframe", iframe: { scrolling: "no", preload: !0 }, aspectRatio: !0 }) } catch (i) { } $("#tech a").attr("target", "_blank"); try { $(".pop-modal").fancybox({ width: 830, height: "95%", autoScale: !1, transitionIn: "elastic", transitionOut: "fade", type: "iframe" }) } catch (i) { } try { $(".sms-modal").fancybox({ maxWidth: 440, maxHeight: 560, fitToView: !1, width: "88%", height: 560, autoSize: !1, closeClick: !1, openEffect: "none", closeEffect: "none", autoDimensions: !1, scrolling: "no", padding: 0, type: "iframe", iframe: { scrolling: "no", preload: !0 } }) } catch (i) { } try { $("a.PlanDetailsLink").fancybox({ width: "620px", height: "95%", autoScale: !1, titleShow: !1, transitionIn: "elastic", transitionOut: "fade" }) } catch (i) { } try { } catch (i) { } }); var serviceplantotal = 0, addonstotal = 0, newwindow; !function (t) { function e(e) { var a = e || window.event, o = [].slice.call(arguments, 1), n = 0, i = 0, r = 0; return e = t.event.fix(a), e.type = "mousewheel", a.wheelDelta && (n = a.wheelDelta / 120), a.detail && (n = -a.detail / 3), r = n, void 0 !== a.axis && a.axis === a.HORIZONTAL_AXIS && (r = 0, i = -1 * n), void 0 !== a.wheelDeltaY && (r = a.wheelDeltaY / 120), void 0 !== a.wheelDeltaX && (i = -1 * a.wheelDeltaX / 120), o.unshift(e, n, i, r), (t.event.dispatch || t.event.handle).apply(this, o) } var a = ["DOMMouseScroll", "mousewheel"]; if (t.event.fixHooks) for (var o = a.length; o;) t.event.fixHooks[a[--o]] = t.event.mouseHooks; t.event.special.mousewheel = { setup: function () { if (this.addEventListener) for (var t = a.length; t;) this.addEventListener(a[--t], e, !1); else this.onmousewheel = e }, teardown: function () { if (this.removeEventListener) for (var t = a.length; t;) this.removeEventListener(a[--t], e, !1); else this.onmousewheel = null } }, t.fn.extend({ mousewheel: function (t) { return t ? this.bind("mousewheel", t) : this.trigger("mousewheel") }, unmousewheel: function (t) { return this.unbind("mousewheel", t) } }) }(jQuery), function (t) {
    var e = {
        init: function (e) {
            var a = { set_width: !1, set_height: !1, horizontalScroll: !1, scrollInertia: 950, mouseWheel: !0, mouseWheelPixels: "auto", autoDraggerLength: !0, autoHideScrollbar: !1, scrollButtons: { enable: !1, scrollType: "continuous", scrollSpeed: "auto", scrollAmount: 40 }, advanced: { updateOnBrowserResize: !0, updateOnContentResize: !1, autoExpandHorizontalScroll: !1, autoScrollOnFocus: !0, normalizeMouseWheelDelta: !1 }, contentTouchScroll: !0, callbacks: { onScrollStart: function () { }, onScroll: function () { }, onTotalScroll: function () { }, onTotalScrollBack: function () { }, onTotalScrollOffset: 0, onTotalScrollBackOffset: 0, whileScrolling: function () { } }, theme: "light" }, e = t.extend(!0, a, e); return this.each(function () {
                var a = t(this); if (e.set_width && a.css("width", e.set_width), e.set_height && a.css("height", e.set_height), t(document).data("mCustomScrollbar-index")) { var o = parseInt(t(document).data("mCustomScrollbar-index")); t(document).data("mCustomScrollbar-index", o + 1) } else t(document).data("mCustomScrollbar-index", "1"); a.wrapInner("<div class='mCustomScrollBox mCS-" + e.theme + "' id='mCSB_" + t(document).data("mCustomScrollbar-index") + "' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_" + t(document).data("mCustomScrollbar-index"));
                var n = a.children(".mCustomScrollBox"); if (e.horizontalScroll) { n.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"); var i = n.children(".mCSB_h_wrapper"); i.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({ width: i.children().outerWidth(), position: "relative" }).unwrap() } else n.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />"); var r = n.children(".mCSB_container"); t.support.touch && r.addClass("mCS_touch"), r.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>"); var l = n.children(".mCSB_scrollTools"), c = l.children(".mCSB_draggerContainer"), s = c.children(".mCSB_dragger"); if (e.horizontalScroll ? s.data("minDraggerWidth", s.width()) : s.data("minDraggerHeight", s.height()), e.scrollButtons.enable && (e.horizontalScroll ? l.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>") : l.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")), n.bind("scroll", function () { a.is(".mCS_disabled") || n.scrollTop(0).scrollLeft(0) }), a.data({ mCS_Init: !0, mCustomScrollbarIndex: t(document).data("mCustomScrollbar-index"), horizontalScroll: e.horizontalScroll, scrollInertia: e.scrollInertia, scrollEasing: "mcsEaseOut", mouseWheel: e.mouseWheel, mouseWheelPixels: e.mouseWheelPixels, autoDraggerLength: e.autoDraggerLength, autoHideScrollbar: e.autoHideScrollbar, scrollButtons_enable: e.scrollButtons.enable, scrollButtons_scrollType: e.scrollButtons.scrollType, scrollButtons_scrollSpeed: e.scrollButtons.scrollSpeed, scrollButtons_scrollAmount: e.scrollButtons.scrollAmount, autoExpandHorizontalScroll: e.advanced.autoExpandHorizontalScroll, autoScrollOnFocus: e.advanced.autoScrollOnFocus, normalizeMouseWheelDelta: e.advanced.normalizeMouseWheelDelta, contentTouchScroll: e.contentTouchScroll, onScrollStart_Callback: e.callbacks.onScrollStart, onScroll_Callback: e.callbacks.onScroll, onTotalScroll_Callback: e.callbacks.onTotalScroll, onTotalScrollBack_Callback: e.callbacks.onTotalScrollBack, onTotalScroll_Offset: e.callbacks.onTotalScrollOffset, onTotalScrollBack_Offset: e.callbacks.onTotalScrollBackOffset, whileScrolling_Callback: e.callbacks.whileScrolling, bindEvent_scrollbar_drag: !1, bindEvent_content_touch: !1, bindEvent_scrollbar_click: !1, bindEvent_mousewheel: !1, bindEvent_buttonsContinuous_y: !1, bindEvent_buttonsContinuous_x: !1, bindEvent_buttonsPixels_y: !1, bindEvent_buttonsPixels_x: !1, bindEvent_focusin: !1, bindEvent_autoHideScrollbar: !1, mCSB_buttonScrollRight: !1, mCSB_buttonScrollLeft: !1, mCSB_buttonScrollDown: !1, mCSB_buttonScrollUp: !1 }), e.horizontalScroll) "none" !== a.css("max-width") && (e.advanced.updateOnContentResize || (e.advanced.updateOnContentResize = !0)); else if ("none" !== a.css("max-height")) { var d = !1, u = parseInt(a.css("max-height")); a.css("max-height").indexOf("%") >= 0 && (d = u, u = a.parent().height() * d / 100), a.css("overflow", "hidden"), n.css("max-height", u) } if (a.mCustomScrollbar("update"), e.advanced.updateOnBrowserResize) { var p, m = t(window).width(), h = t(window).height(); t(window).bind("resize." + a.data("mCustomScrollbarIndex"), function () { p && clearTimeout(p), p = setTimeout(function () { if (!a.is(".mCS_disabled") && !a.is(".mCS_destroyed")) { var e = t(window).width(), o = t(window).height(); (m !== e || h !== o) && ("none" !== a.css("max-height") && d && n.css("max-height", a.parent().height() * d / 100), a.mCustomScrollbar("update"), m = e, h = o) } }, 150) }) } if (e.advanced.updateOnContentResize) { var f; if (e.horizontalScroll) var v = r.outerWidth(); else var v = r.outerHeight(); f = setInterval(function () { if (e.horizontalScroll) { e.advanced.autoExpandHorizontalScroll && r.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: r.outerWidth(), position: "relative" }).unwrap(); var t = r.outerWidth() } else var t = r.outerHeight(); t != v && (a.mCustomScrollbar("update"), v = t) }, 300) }
            })
        }, update: function () { var e = t(this), a = e.children(".mCustomScrollBox"), o = a.children(".mCSB_container"); o.removeClass("mCS_no_scrollbar"), e.removeClass("mCS_disabled mCS_destroyed"), a.scrollTop(0).scrollLeft(0); var n = a.children(".mCSB_scrollTools"), i = n.children(".mCSB_draggerContainer"), r = i.children(".mCSB_dragger"); if (e.data("horizontalScroll")) { var l = n.children(".mCSB_buttonLeft"), c = n.children(".mCSB_buttonRight"), s = a.width(); e.data("autoExpandHorizontalScroll") && o.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: o.outerWidth(), position: "relative" }).unwrap(); var d = o.outerWidth() } else var u = n.children(".mCSB_buttonUp"), p = n.children(".mCSB_buttonDown"), m = a.height(), h = o.outerHeight(); if (h > m && !e.data("horizontalScroll")) { n.css("display", "block"); var f = i.height(); if (e.data("autoDraggerLength")) { var v = Math.round(m / h * f), g = r.data("minDraggerHeight"); if (g >= v) r.css({ height: g }); else if (v >= f - 10) { var b = f - 10; r.css({ height: b }) } else r.css({ height: v }); r.children(".mCSB_dragger_bar").css({ "line-height": r.height() + "px" }) } var $ = r.height(), S = (h - m) / (f - $); e.data("scrollAmount", S).mCustomScrollbar("scrolling", a, o, i, r, u, p, l, c); var C = Math.abs(o.position().top); e.mCustomScrollbar("scrollTo", C, { scrollInertia: 0, trigger: "internal" }) } else if (d > s && e.data("horizontalScroll")) { n.css("display", "block"); var _ = i.width(); if (e.data("autoDraggerLength")) { var w = Math.round(s / d * _), k = r.data("minDraggerWidth"); if (k >= w) r.css({ width: k }); else if (w >= _ - 10) { var y = _ - 10; r.css({ width: y }) } else r.css({ width: w }) } var x = r.width(), S = (d - s) / (_ - x); e.data("scrollAmount", S).mCustomScrollbar("scrolling", a, o, i, r, u, p, l, c); var C = Math.abs(o.position().left); e.mCustomScrollbar("scrollTo", C, { scrollInertia: 0, trigger: "internal" }) } else a.unbind("mousewheel focusin"), e.data("horizontalScroll") ? r.add(o).css("left", 0) : r.add(o).css("top", 0), n.css("display", "none"), o.addClass("mCS_no_scrollbar"), e.data({ bindEvent_mousewheel: !1, bindEvent_focusin: !1 }) }, scrolling: function (e, o, n, i, r, l, c, s) { function d(t, e, a, o) { m.data("horizontalScroll") ? m.mCustomScrollbar("scrollTo", i.position().left - e + o, { moveDragger: !0, trigger: "internal" }) : m.mCustomScrollbar("scrollTo", i.position().top - t + a, { moveDragger: !0, trigger: "internal" }) } function u(t) { i.data("preventAction") || (i.data("preventAction", !0), m.mCustomScrollbar("scrollTo", t, { trigger: "internal" })) } function p() { var t = m.data("scrollButtons_scrollSpeed"); return "auto" === m.data("scrollButtons_scrollSpeed") && (t = Math.round((m.data("scrollInertia") + 100) / 40)), t } var m = t(this); if (!m.data("bindEvent_scrollbar_drag")) { var h, f; t.support.msPointer ? (i.bind("MSPointerDown", function (e) { e.preventDefault(), m.data({ on_drag: !0 }), i.addClass("mCSB_dragger_onDrag"); var a = t(this), o = a.offset(), n = e.originalEvent.pageX - o.left, r = e.originalEvent.pageY - o.top; n < a.width() && n > 0 && r < a.height() && r > 0 && (h = r, f = n) }), t(document).bind("MSPointerMove." + m.data("mCustomScrollbarIndex"), function (t) { if (t.preventDefault(), m.data("on_drag")) { var e = i, a = e.offset(), o = t.originalEvent.pageX - a.left, n = t.originalEvent.pageY - a.top; d(h, f, n, o) } }).bind("MSPointerUp." + m.data("mCustomScrollbarIndex"), function (t) { m.data({ on_drag: !1 }), i.removeClass("mCSB_dragger_onDrag") })) : (i.bind("mousedown touchstart", function (e) { e.preventDefault(), e.stopImmediatePropagation(); var a, o, n = t(this), r = n.offset(); if ("touchstart" === e.type) { var l = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]; a = l.pageX - r.left, o = l.pageY - r.top } else m.data({ on_drag: !0 }), i.addClass("mCSB_dragger_onDrag"), a = e.pageX - r.left, o = e.pageY - r.top; a < n.width() && a > 0 && o < n.height() && o > 0 && (h = o, f = a) }).bind("touchmove", function (e) { e.preventDefault(), e.stopImmediatePropagation(); var a = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0], o = t(this), n = o.offset(), i = a.pageX - n.left, r = a.pageY - n.top; d(h, f, r, i) }), t(document).bind("mousemove." + m.data("mCustomScrollbarIndex"), function (t) { if (m.data("on_drag")) { var e = i, a = e.offset(), o = t.pageX - a.left, n = t.pageY - a.top; d(h, f, n, o) } }).bind("mouseup." + m.data("mCustomScrollbarIndex"), function (t) { m.data({ on_drag: !1 }), i.removeClass("mCSB_dragger_onDrag") })), m.data({ bindEvent_scrollbar_drag: !0 }) } if (t.support.touch && m.data("contentTouchScroll") && !m.data("bindEvent_content_touch")) { var v, g, b, $, S, C, _; o.bind("touchstart", function (e) { e.stopImmediatePropagation(), v = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0], g = t(this), b = g.offset(), S = v.pageX - b.left, $ = v.pageY - b.top, C = $, _ = S }), o.bind("touchmove", function (e) { e.preventDefault(), e.stopImmediatePropagation(), v = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0], g = t(this).parent(), b = g.offset(), S = v.pageX - b.left, $ = v.pageY - b.top, m.data("horizontalScroll") ? m.mCustomScrollbar("scrollTo", _ - S, { trigger: "internal" }) : m.mCustomScrollbar("scrollTo", C - $, { trigger: "internal" }) }) } if (m.data("bindEvent_scrollbar_click") || (n.bind("click", function (e) { var a = (e.pageY - n.offset().top) * m.data("scrollAmount"), o = t(e.target); m.data("horizontalScroll") && (a = (e.pageX - n.offset().left) * m.data("scrollAmount")), (o.hasClass("mCSB_draggerContainer") || o.hasClass("mCSB_draggerRail")) && m.mCustomScrollbar("scrollTo", a, { trigger: "internal", scrollEasing: "draggerRailEase" }) }), m.data({ bindEvent_scrollbar_click: !0 })), m.data("mouseWheel") && (m.data("bindEvent_mousewheel") || (e.bind("mousewheel", function (t, e) { var a, r = m.data("mouseWheelPixels"), l = Math.abs(o.position().top), c = i.position().top, s = n.height() - i.height(); m.data("normalizeMouseWheelDelta") && (e = 0 > e ? -1 : 1), "auto" === r && (r = 100 + Math.round(m.data("scrollAmount") / 2)), m.data("horizontalScroll") && (c = i.position().left, s = n.width() - i.width(), l = Math.abs(o.position().left)), (e > 0 && 0 !== c || 0 > e && c !== s) && (t.preventDefault(), t.stopImmediatePropagation()), a = l - e * r, m.mCustomScrollbar("scrollTo", a, { trigger: "internal" }) }), m.data({ bindEvent_mousewheel: !0 }))), m.data("scrollButtons_enable")) if ("pixels" === m.data("scrollButtons_scrollType")) m.data("horizontalScroll") ? (s.add(c).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend", w, k), m.data({ bindEvent_buttonsContinuous_x: !1 }), m.data("bindEvent_buttonsPixels_x") || (s.bind("click", function (t) { t.preventDefault(), u(Math.abs(o.position().left) + m.data("scrollButtons_scrollAmount")) }), c.bind("click", function (t) { t.preventDefault(), u(Math.abs(o.position().left) - m.data("scrollButtons_scrollAmount")) }), m.data({ bindEvent_buttonsPixels_x: !0 }))) : (l.add(r).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend", w, k), m.data({ bindEvent_buttonsContinuous_y: !1 }), m.data("bindEvent_buttonsPixels_y") || (l.bind("click", function (t) { t.preventDefault(), u(Math.abs(o.position().top) + m.data("scrollButtons_scrollAmount")) }), r.bind("click", function (t) { t.preventDefault(), u(Math.abs(o.position().top) - m.data("scrollButtons_scrollAmount")) }), m.data({ bindEvent_buttonsPixels_y: !0 }))); else if (m.data("horizontalScroll")) { if (s.add(c).unbind("click"), m.data({ bindEvent_buttonsPixels_x: !1 }), !m.data("bindEvent_buttonsContinuous_x")) { s.bind("mousedown touchstart MSPointerDown", function (t) { t.preventDefault(); var e = p(); m.data({ mCSB_buttonScrollRight: setInterval(function () { m.mCustomScrollbar("scrollTo", Math.abs(o.position().left) + e, { trigger: "internal", scrollEasing: "easeOutCirc" }) }, 17) }) }); var w = function (t) { t.preventDefault(), clearInterval(m.data("mCSB_buttonScrollRight")) }; s.bind("mouseup touchend MSPointerUp mouseout MSPointerOut", w), c.bind("mousedown touchstart MSPointerDown", function (t) { t.preventDefault(); var e = p(); m.data({ mCSB_buttonScrollLeft: setInterval(function () { m.mCustomScrollbar("scrollTo", Math.abs(o.position().left) - e, { trigger: "internal", scrollEasing: "easeOutCirc" }) }, 17) }) }); var k = function (t) { t.preventDefault(), clearInterval(m.data("mCSB_buttonScrollLeft")) }; c.bind("mouseup touchend MSPointerUp mouseout MSPointerOut", k), m.data({ bindEvent_buttonsContinuous_x: !0 }) } } else if (l.add(r).unbind("click"), m.data({ bindEvent_buttonsPixels_y: !1 }), !m.data("bindEvent_buttonsContinuous_y")) { l.bind("mousedown touchstart MSPointerDown", function (t) { t.preventDefault(); var e = p(); m.data({ mCSB_buttonScrollDown: setInterval(function () { m.mCustomScrollbar("scrollTo", Math.abs(o.position().top) + e, { trigger: "internal", scrollEasing: "easeOutCirc" }) }, 17) }) }); var y = function (t) { t.preventDefault(), clearInterval(m.data("mCSB_buttonScrollDown")) }; l.bind("mouseup touchend MSPointerUp mouseout MSPointerOut", y), r.bind("mousedown touchstart MSPointerDown", function (t) { t.preventDefault(); var e = p(); m.data({ mCSB_buttonScrollUp: setInterval(function () { m.mCustomScrollbar("scrollTo", Math.abs(o.position().top) - e, { trigger: "internal", scrollEasing: "easeOutCirc" }) }, 17) }) }); var x = function (t) { t.preventDefault(), clearInterval(m.data("mCSB_buttonScrollUp")) }; r.bind("mouseup touchend MSPointerUp mouseout MSPointerOut", x), m.data({ bindEvent_buttonsContinuous_y: !0 }) } m.data("autoScrollOnFocus") && (m.data("bindEvent_focusin") || (e.bind("focusin", function () { e.scrollTop(0).scrollLeft(0); var a = t(document.activeElement); if (a.is("input,textarea,select,button,a[tabindex],area,object")) { var n = o.position().top, i = a.position().top, r = e.height() - a.outerHeight(); m.data("horizontalScroll") && (n = o.position().left, i = a.position().left, r = e.width() - a.outerWidth()), (0 > n + i || n + i > r) && m.mCustomScrollbar("scrollTo", i, { trigger: "internal" }) } }), m.data({ bindEvent_focusin: !0 }))), m.data("autoHideScrollbar") && (m.data("bindEvent_autoHideScrollbar") || (e.bind("mouseenter", function (t) { e.addClass("mCS-mouse-over"), a.showScrollbar.call(e.children(".mCSB_scrollTools")) }).bind("mouseleave touchend", function (t) { e.removeClass("mCS-mouse-over"), "mouseleave" === t.type && a.hideScrollbar.call(e.children(".mCSB_scrollTools")) }), m.data({ bindEvent_autoHideScrollbar: !0 }))) }, scrollTo: function (e, o) { function n(t) { switch (this.mcs = { top: m.position().top, left: m.position().left, draggerTop: v.position().top, draggerLeft: v.position().left, topPct: Math.round(100 * Math.abs(m.position().top) / Math.abs(m.outerHeight() - p.height())), leftPct: Math.round(100 * Math.abs(m.position().left) / Math.abs(m.outerWidth() - p.width())) }, t) { case "onScrollStart": d.data("mCS_tweenRunning", !0).data("onScrollStart_Callback").call(d, this.mcs); break; case "whileScrolling": d.data("whileScrolling_Callback").call(d, this.mcs); break; case "onScroll": d.data("onScroll_Callback").call(d, this.mcs); break; case "onTotalScrollBack": d.data("onTotalScrollBack_Callback").call(d, this.mcs); break; case "onTotalScroll": d.data("onTotalScroll_Callback").call(d, this.mcs) } } var i, r, l, c, s, d = t(this), u = { moveDragger: !1, trigger: "external", callbacks: !0, scrollInertia: d.data("scrollInertia"), scrollEasing: d.data("scrollEasing") }, o = t.extend(u, o), p = d.children(".mCustomScrollBox"), m = p.children(".mCSB_container"), h = p.children(".mCSB_scrollTools"), f = h.children(".mCSB_draggerContainer"), v = f.children(".mCSB_dragger"), g = draggerSpeed = o.scrollInertia; if (!m.hasClass("mCS_no_scrollbar") && (d.data({ mCS_trigger: o.trigger }), d.data("mCS_Init") && (o.callbacks = !1), e || 0 === e)) { if ("number" == typeof e) o.moveDragger ? (i = e, e = d.data("horizontalScroll") ? v.position().left * d.data("scrollAmount") : v.position().top * d.data("scrollAmount"), draggerSpeed = 0) : i = e / d.data("scrollAmount"); else if ("string" == typeof e) { var b; b = "top" === e ? 0 : "bottom" !== e || d.data("horizontalScroll") ? "left" === e ? 0 : "right" === e && d.data("horizontalScroll") ? m.outerWidth() - p.width() : "first" === e ? d.find(".mCSB_container").find(":first") : "last" === e ? d.find(".mCSB_container").find(":last") : d.find(e) : m.outerHeight() - p.height(), 1 === b.length ? (e = d.data("horizontalScroll") ? b.position().left : b.position().top, i = e / d.data("scrollAmount")) : i = e = b } d.data("horizontalScroll") ? (d.data("onTotalScrollBack_Offset") && (l = -d.data("onTotalScrollBack_Offset")), d.data("onTotalScroll_Offset") && (s = p.width() - m.outerWidth() + d.data("onTotalScroll_Offset")), 0 > i ? (i = e = 0, clearInterval(d.data("mCSB_buttonScrollLeft")), l || (r = !0)) : i >= f.width() - v.width() ? (i = f.width() - v.width(), e = p.width() - m.outerWidth(), clearInterval(d.data("mCSB_buttonScrollRight")), s || (c = !0)) : e = -e, a.mTweenAxis.call(this, v[0], "left", Math.round(i), draggerSpeed, o.scrollEasing), a.mTweenAxis.call(this, m[0], "left", Math.round(e), g, o.scrollEasing, { onStart: function () { o.callbacks && !d.data("mCS_tweenRunning") && n("onScrollStart"), d.data("autoHideScrollbar") && a.showScrollbar.call(h) }, onUpdate: function () { o.callbacks && n("whileScrolling") }, onComplete: function () { o.callbacks && (n("onScroll"), (r || l && m.position().left >= l) && n("onTotalScrollBack"), (c || s && m.position().left <= s) && n("onTotalScroll")), v.data("preventAction", !1), d.data("mCS_tweenRunning", !1), d.data("autoHideScrollbar") && (p.hasClass("mCS-mouse-over") || a.hideScrollbar.call(h)) } })) : (d.data("onTotalScrollBack_Offset") && (l = -d.data("onTotalScrollBack_Offset")), d.data("onTotalScroll_Offset") && (s = p.height() - m.outerHeight() + d.data("onTotalScroll_Offset")), 0 > i ? (i = e = 0, clearInterval(d.data("mCSB_buttonScrollUp")), l || (r = !0)) : i >= f.height() - v.height() ? (i = f.height() - v.height(), e = p.height() - m.outerHeight(), clearInterval(d.data("mCSB_buttonScrollDown")), s || (c = !0)) : e = -e, a.mTweenAxis.call(this, v[0], "top", Math.round(i), draggerSpeed, o.scrollEasing), a.mTweenAxis.call(this, m[0], "top", Math.round(e), g, o.scrollEasing, { onStart: function () { o.callbacks && !d.data("mCS_tweenRunning") && n("onScrollStart"), d.data("autoHideScrollbar") && a.showScrollbar.call(h) }, onUpdate: function () { o.callbacks && n("whileScrolling") }, onComplete: function () { o.callbacks && (n("onScroll"), (r || l && m.position().top >= l) && n("onTotalScrollBack"), (c || s && m.position().top <= s) && n("onTotalScroll")), v.data("preventAction", !1), d.data("mCS_tweenRunning", !1), d.data("autoHideScrollbar") && (p.hasClass("mCS-mouse-over") || a.hideScrollbar.call(h)) } })), d.data("mCS_Init") && d.data({ mCS_Init: !1 }) } }, stop: function () { var e = t(this), o = e.children().children(".mCSB_container"), n = e.children().children().children().children(".mCSB_dragger"); a.mTweenAxisStop.call(this, o[0]), a.mTweenAxisStop.call(this, n[0]) }, disable: function (e) { var a = t(this), o = a.children(".mCustomScrollBox"), n = o.children(".mCSB_container"), i = o.children(".mCSB_scrollTools"), r = i.children().children(".mCSB_dragger"); o.unbind("mousewheel focusin mouseenter mouseleave touchend"), n.unbind("touchstart touchmove"), e && (a.data("horizontalScroll") ? r.add(n).css("left", 0) : r.add(n).css("top", 0)), i.css("display", "none"), n.addClass("mCS_no_scrollbar"), a.data({ bindEvent_mousewheel: !1, bindEvent_focusin: !1, bindEvent_content_touch: !1, bindEvent_autoHideScrollbar: !1 }).addClass("mCS_disabled") }, destroy: function () { var e = t(this); e.removeClass("mCustomScrollbar _mCS_" + e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(), t(document).unbind("mousemove." + e.data("mCustomScrollbarIndex") + " mouseup." + e.data("mCustomScrollbarIndex") + " MSPointerMove." + e.data("mCustomScrollbarIndex") + " MSPointerUp." + e.data("mCustomScrollbarIndex")), t(window).unbind("resize." + e.data("mCustomScrollbarIndex")) }
    }, a = { showScrollbar: function () { this.stop().animate({ opacity: 1 }, "fast") }, hideScrollbar: function () { this.stop().animate({ opacity: 0 }, "fast") }, mTweenAxis: function (t, e, a, o, n, i) { function r() { return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime() } function l() { g || m.call(), g = r() - v, c(), g >= t._time && (t._time = g > t._time ? g + p - (g - t._time) : g + p - 1, t._time < g + 1 && (t._time = g + 1)), t._time < o ? t._id = _request(l) : f.call() } function c() { o > 0 ? (t.currVal = u(t._time, b, S, o, n), $[e] = Math.round(t.currVal) + "px") : $[e] = a + "px", h.call() } function s() { p = 1e3 / 60, t._time = g + p, _request = window.requestAnimationFrame ? window.requestAnimationFrame : function (t) { return c(), setTimeout(t, .01) }, t._id = _request(l) } function d() { null != t._id && (window.requestAnimationFrame ? window.cancelAnimationFrame(t._id) : clearTimeout(t._id), t._id = null) } function u(t, e, a, o, n) { switch (n) { case "linear": return a * t / o + e; case "easeOutQuad": return t /= o, -a * t * (t - 2) + e; case "easeInOutQuad": return t /= o / 2, 1 > t ? a / 2 * t * t + e : (t--, -a / 2 * (t * (t - 2) - 1) + e); case "easeOutCubic": return t /= o, t--, a * (t * t * t + 1) + e; case "easeOutQuart": return t /= o, t--, -a * (t * t * t * t - 1) + e; case "easeOutQuint": return t /= o, t--, a * (t * t * t * t * t + 1) + e; case "easeOutCirc": return t /= o, t--, a * Math.sqrt(1 - t * t) + e; case "easeOutSine": return a * Math.sin(t / o * (Math.PI / 2)) + e; case "easeOutExpo": return a * (-Math.pow(2, -10 * t / o) + 1) + e; case "mcsEaseOut": var i = (t /= o) * t, r = i * t; return e + a * (.499999999999997 * r * i + -2.5 * i * i + 5.5 * r + -6.5 * i + 4 * t); case "draggerRailEase": return t /= o / 2, 1 > t ? a / 2 * t * t * t + e : (t -= 2, a / 2 * (t * t * t + 2) + e) } } var p, i = i || {}, m = i.onStart || function () { }, h = i.onUpdate || function () { }, f = i.onComplete || function () { }, v = r(), g = 0, b = t.offsetTop, $ = t.style; "left" === e && (b = t.offsetLeft); var S = a - b; d(), s() }, mTweenAxisStop: function (t) { null != t._id && (window.requestAnimationFrame ? window.cancelAnimationFrame(t._id) : clearTimeout(t._id), t._id = null) }, rafPolyfill: function () { for (var t = ["ms", "moz", "webkit", "o"], e = t.length; --e > -1 && !window.requestAnimationFrame;) window.requestAnimationFrame = window[t[e] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[e] + "CancelAnimationFrame"] || window[t[e] + "CancelRequestAnimationFrame"] } }; a.rafPolyfill.call(), t.support.touch = !!("ontouchstart" in window), t.support.msPointer = window.navigator.msPointerEnabled; var o = "https:" == document.location.protocol ? "https:" : "http:"; t.event.special.mousewheel || document.write('<script src="' + o + '//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"></script>'), t.fn.mCustomScrollbar = function (a) { return e[a] ? e[a].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof a && a ? void t.error("Method " + a + " does not exist") : e.init.apply(this, arguments) }
}(jQuery);